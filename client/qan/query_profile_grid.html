<div class="row" collapse="!$parent.isCollapsed">
    <div class="col-md-12">
        <div class="well well-lg">
            <p class="text-info">DSN: {{ instance.DSN }}</p>
            <p class="text-info">Instance UUID: {{ instance.UUID }}</p>
            <p class="text-info">Host: {{ instance.Name}}</p>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <h3 style="display: inline">Query Profile</h3> <p style="display: inline" class="text-info pull-right">Top 10 Queries by % Grand Total Time</p>
        <div class="clearfix"></div>
        <div id="qan-grid"
            ui-grid="qanGridOptions"
            class="grid"
            ui-grid-selection
            ng-style="getQPTableHeight()"
            ></div>
    </div><!-- /div-col-md-12 -->
</div><!-- /div-row -->

<h3 ng-if="query">Query Execution (Mock-up)</h3>
<div ng-if="query" class="row">
    <div class="col-md-12">
        <canvas ng-if="query" id="bar"
            height="60"
            chart-options='{height: 200}'
            class="chart chart-bar"
            chart-data="data"
            chart-labels="labels">
        </canvas>
        <hr />
    </div><!-- /div-col-md-12 -->
</div><!-- /div-row -->

<div ng-if="query">
    <div class="row">
        <div class="col-md-12">
            <h3>Query Details</h3>
            <div class="row">
                <div class="col-md-12">
                    <b>Query:</b>
                    <div class="well well-sm">{{ query.Fingerprint }}</div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-1">
                    <b>Query ID:</b>
                </div>
                <div class="col-md-3">
                    {{ query.Id }}
                </div>
                <div class="col-md-1">
                    <b>First Seen:</b>
                </div>
                <div class="col-md-3">
                    {{ query.FirstSeen }}
                </div>
                <div class="col-md-1">
                    <b>Last Seen:</b>
                </div>
                <div class="col-md-3">
                    {{ query.LastSeen }}
                </div>
            </div>

            <h3>Metrics</h3>
            <div id="metrics-grid"
                ui-grid="metricsGridOptions"
                ng-style="getMetricsTableHeight()"
                class="grid"></div>
        </div><!-- /div-col-md-12 -->
    </div><!-- /div-row -->
    <hr />
    <h3>Explain Query</h3>
    <div class="row">
        <div class="col-md-12">
            <div class="well">{{ example.Query }}</div>
        </div><!-- /div-col-md-12 -->
    </div><!-- /div-row -->
    <div class="row">
        <div class="col-md-3">
            <span ng-show="example.Db"><b>DB:</b> {{ example.Db }} </span>
            <span ng-hide="example.Db">
                <input type="text"
                       class="form-control"
                       placeholder="Specify DB for explain if needed."
                       name="queryDb"
                       ng-model="$parent.queryDb" />
               </span>
        </div>
        <div class="col-md-9">
            <button type="button"
                ng-disabled="!query.Abstract.startsWith('SELECT')"
                class="btn btn-info"
                ng-click="getQueryExplain()">Explain</button>
        </div><!-- /div-col-md-12 -->
    </div><!-- /div-row -->
</div>
<br />

<div ng-if="queryExplain">
    <div class="row">
        <div class="col-md-12">
            <div id="explainGrid"
                ng-if="!queryExplainError"
                ui-grid="queryExplainOptions"
                ng-style="getExplainQueryTableHeight()"
                class="grid"></div>
            <div ng-if="queryExplainError"
                class="alert alert-danger"
                role="alert">{{ queryExplainError }}</div>
        </div><!-- /div-col-md-12 -->
    </div><!-- /div-row -->
</div>
